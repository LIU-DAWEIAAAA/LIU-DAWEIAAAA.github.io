---
title: 我的第一篇博客文章
date: 2020-03-09 10:53:42
valineenbale: true 
declare: true
tags: 测试
---


# 我的第一个篇博客测试  
## 标题   
使用标题时需要使用# #后要加个空格 每次换行后面需要加上两个以上空格【  】  
详细参见markdown参考手册 
增加评论权限: valineenbale: true 
增加版权信息: declare: true 


<!-- more -->
## 段落
第一个段落内容  

第二个段落内容   

## 区块引用  
> 这是一段引用段落 将会被高亮显示  

## 超链接  
[百度](https://www.baidu.com/)  

## 图片  
![图片名称](https://bkimg.cdn.bcebos.com/pic/00e93901213fb80ef9ceac7132d12f2eb938947d?x-bce-process=image/watermark,g_7,image_d2F0ZXIvYmFpa2UxODA=,xp_5,yp_5)

## 无序列表 
*无序列表 
*无序列表 
*无序列表 

## 有序列表 
   1. 有序列表项1
      1. 有序列表项11
      2. 有序列表项12
   2. 有序列表项3 
   
## 分隔线 
------  

写博客遇到的问题：


----
2020年3月10日19:08:34

使用``` 进行代码块的贴入

-----

2020年3月10日20:13:57

添加图片遇到问题参考网站：https://blog.csdn.net/qq904305159/article/details/104162802?depth_1-utm_source=distribute.pc_relevant.none-task&utm_source=distribute.pc_relevant.none-task


npm install hexo-asset-image --save

第修改方法时是通过修改hexo-asset-image这个插件的源代码来实现的，找到路径node_modules\hexo-asset-image\index.js,替换其中的内容为：

```JavaScript
'use strict';
var cheerio = require('cheerio');

// http://stackoverflow.com/questions/14480345/how-to-get-the-nth-occurrence-in-a-string
function getPosition(str, m, i) {
  return str.split(m, i).join(m).length;
}

var version = String(hexo.version).split('.');
hexo.extend.filter.register('after_post_render', function(data){
  var config = hexo.config;
  if(config.post_asset_folder){
    	var link = data.permalink;
	if(version.length > 0 && Number(version[0]) == 3)
	   var beginPos = getPosition(link, '/', 1) + 1;
	else
	   var beginPos = getPosition(link, '/', 3) + 1;
	// In hexo 3.1.1, the permalink of "about" page is like ".../about/index.html".
	var endPos = link.lastIndexOf('/') + 1;
    link = link.substring(beginPos, endPos);

    var toprocess = ['excerpt', 'more', 'content'];
    for(var i = 0; i < toprocess.length; i++){
      var key = toprocess[i];
 
      var $ = cheerio.load(data[key], {
        ignoreWhitespace: false,
        xmlMode: false,
        lowerCaseTags: false,
        decodeEntities: false
      });

      $('img').each(function(){
		if ($(this).attr('src')){
			// For windows style path, we replace '\' to '/'.
			var src = $(this).attr('src').replace('\\', '/');
			if(!/http[s]*.*|\/\/.*/.test(src) &&
			   !/^\s*\//.test(src)) {
			  // For "about" page, the first part of "src" can't be removed.
			  // In addition, to support multi-level local directory.
			  var linkArray = link.split('/').filter(function(elem){
				return elem != '';
			  });
			  var srcArray = src.split('/').filter(function(elem){
				return elem != '' && elem != '.';
			  });
			  if(srcArray.length > 1)
				srcArray.shift();
			  src = srcArray.join('/');
			  $(this).attr('src', config.root + link + src);
			  console.info&&console.info("update link as:-->"+config.root + link + src);
			}
		}else{
			console.info&&console.info("no src attr, skipped...");
			console.info&&console.info($(this));
		}
      });
      data[key] = $.html();
    }
  }
});
```
插入图片时用这种方式：{% asset_img test.jpg [This is an test image] %}

其中test.jpg就是你要引用的图片，我这里就是test.jpg，后面的This is an test image是图片描述，可以自己修改,可以不填。

----

2020年3月10日20:14:20 

调试过程中不会自动生成index.html 处理办法：https://www.jianshu.com/p/86e60a93080f

查看 npm 安装各 hexo 插件的情况
npm ls --depth 0  再逐一安装缺失的包即可










